{"version":3,"sources":["components/Admin/DefaultAdminHeader/DefaultAdminHeader.tsx","components/Admin/AdminReceiptStatus/AdminReceiptStatus.tsx","containers/Admin/AdminReceiptStatus/AdminReceiptStatusContainer.tsx","pages/AdminPage/AdminReceiptStatusPage.tsx"],"names":["DefaultAdminHeader","children","HeaderContainer","theme","className","to","activeClassName","exact","AdminReceiptStatus","receiptStatus","setSearch","setReceiptStatus","search","getReceiptStatusExcel","handleCancelSubmit","onClick","type","placeholder","onChange","e","target","value","filter","name","includes","cityName","examCode","submitCode","schoolName","applyTypeString","map","filteredName","idx","key","birth","moment","format","Convertor","GradeType","gradeType","gradeScore","absenceScore","volunteerScore","additionalScore","commonTotalScore","specialTotalScore","isSubmit","userIdx","res","window","open","observer","store","useStore","history","useHistory","useState","AdminStore","getReceiptStatus","getReceiptStatusCallBack","useCallback","then","data","catch","err","handleAdmin","cancelSubmit","a","Swal","fire","title","text","showCancelButton","icon","cancelButtonText","confirmButtonText","result","isConfirmed","response","status","arr","slice","findIndex","useEffect","AdminReceiptStatusPage"],"mappings":"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","file":"static/js/3.03f308cd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./DefaultAdminHeader.scss\";\r\nimport HeaderContainer from \"containers/Header/HeaderContainer\";\r\n\r\ninterface DefaultAdminHeaderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst DefaultAdminHeader = ({ children }: DefaultAdminHeaderProps) => {\r\n  return (\r\n    <>\r\n      <HeaderContainer theme={true} />\r\n      <div className=\"Admin\">\r\n        <div className=\"Admin-header\">\r\n          <NavLink\r\n            to=\"/admin/userList\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>지원자 현황</span>\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/admin/schoolCity\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>출신교별 현황</span>\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/admin/userRate\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>입학지원자경쟁률</span>\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/admin/receiptStatus\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>신입생 입학 전형 원부</span>\r\n          </NavLink>\r\n          <NavLink\r\n            exact\r\n            to=\"/admin/secondScore\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>2차 전형 점수 관리</span>\r\n          </NavLink>\r\n\r\n          <NavLink\r\n            to=\"/admin/interviewScore\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>2차 전형 면접 점수</span>\r\n          </NavLink>\r\n\r\n          <NavLink\r\n            to=\"/admin/userListPassed\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>1차/최종 합격 여부</span>\r\n          </NavLink>\r\n\r\n          <NavLink\r\n            to=\"/admin/userResultPage\"\r\n            className=\"Admin-header-link\"\r\n            activeClassName=\"Admin-header-link-active\"\r\n          >\r\n            <span>결과 변경</span>\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DefaultAdminHeader;\r\n","import Convertor from \"lib/Convertor\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Receipt } from \"util/types/ReceiptType\";\r\nimport \"./AdminReceiptStatus.scss\";\r\n\r\ninterface AdminReceiptStatusProps {\r\n  receiptStatus: Receipt[];\r\n  setReceiptStatus: React.Dispatch<React.SetStateAction<Receipt[]>>;\r\n  setSearch: React.Dispatch<React.SetStateAction<string>>;\r\n  search: string;\r\n  getReceiptStatusExcel: () => Promise<any>;\r\n  handleCancelSubmit: (userIdx: number, name: string) => Promise<void>;\r\n}\r\n\r\nconst AdminReceiptStatus = ({\r\n  receiptStatus,\r\n  setReceiptStatus,\r\n  setSearch,\r\n  search,\r\n  getReceiptStatusExcel,\r\n  handleCancelSubmit,\r\n}: AdminReceiptStatusProps) => {\r\n  return (\r\n    <>\r\n      <div className=\"receipt\">\r\n        <div className=\"receipt-title\">신입생 입학 전형 원부</div>\r\n        <div className=\"receipt-btn\" onClick={() => getReceiptStatusExcel()}>\r\n          현자료 엑셀 내려받기\r\n        </div>\r\n\r\n        <input\r\n          type=\"text\"\r\n          className=\"receipt-input\"\r\n          placeholder=\"통합검색\"\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n\r\n        <table className=\"receipt-list\">\r\n          <thead>\r\n            <tr className=\"receipt-list-header\">\r\n              <th>순번</th>\r\n              <th>접수번호</th>\r\n              <th>수험번호</th>\r\n              <th>성명</th>\r\n              <th>생년월일</th>\r\n              <th>지역명</th>\r\n              <th>출신학교</th>\r\n              <th>학력</th>\r\n              <th>전형</th>\r\n              <th>교과</th>\r\n              <th>출결</th>\r\n              <th>봉사</th>\r\n              <th>가산점</th>\r\n              <th>점수합계/일반</th>\r\n              <th>점수합계/특별</th>\r\n              <th>최종제출여부</th>\r\n              <th>제출취소</th>\r\n              <th>원서출력</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {search\r\n              ? receiptStatus\r\n                  .filter(\r\n                    (name) =>\r\n                      (typeof name.name === \"string\" &&\r\n                        name.name.includes(search)) ||\r\n                      (typeof name.cityName === \"string\" &&\r\n                        name.cityName.includes(search)) ||\r\n                      (typeof name.examCode === \"string\" &&\r\n                        name.examCode.includes(search)) ||\r\n                      (typeof name.submitCode === \"string\" &&\r\n                        name.submitCode.includes(search)) ||\r\n                      (typeof name.schoolName === \"string\" &&\r\n                        name.schoolName.includes(search)) ||\r\n                      (typeof name.applyTypeString === \"string\" &&\r\n                        name.applyTypeString.includes(search))\r\n                  )\r\n                  .map((filteredName, idx) => (\r\n                    <tr key={idx}>\r\n                      <td>{filteredName.idx}</td>\r\n                      <td>{filteredName.submitCode}</td>\r\n                      <td>{filteredName.examCode}</td>\r\n                      <td>{filteredName.name}</td>\r\n                      <td>\r\n                        {filteredName.birth &&\r\n                          moment(filteredName.birth).format(\"yyyy-MM-DD\")}\r\n                      </td>\r\n                      <td>{filteredName.cityName}</td>\r\n                      <td>{filteredName.schoolName}</td>\r\n                      <td>{Convertor.GradeType(filteredName.gradeType)}</td>\r\n                      <td>{filteredName.applyTypeString}</td>\r\n                      <td>{filteredName.gradeScore}</td>\r\n                      <td>{filteredName.absenceScore}</td>\r\n                      <td>{filteredName.volunteerScore}</td>\r\n                      <td>{filteredName.additionalScore}</td>\r\n                      <td>{filteredName.commonTotalScore}</td>\r\n                      {/* 점수 합계/일반 */}\r\n                      <td>{filteredName.specialTotalScore}</td>\r\n                      {/* 점수 합계/특별 */}\r\n                      <td>{filteredName.isSubmit ? \"제출완료\" : \"미제출\"}</td>\r\n                      <td>\r\n                        {filteredName.isSubmit ? (\r\n                          <button\r\n                            onClick={() => {\r\n                              handleCancelSubmit(\r\n                                filteredName.userIdx,\r\n                                filteredName.name\r\n                              );\r\n                            }}\r\n                          >\r\n                            제출취소\r\n                          </button>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <button>출력</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n              : receiptStatus.map((res, idx) => (\r\n                  <tr key={idx}>\r\n                    <td>{res.idx}</td>\r\n                    <td>{res.submitCode}</td>\r\n                    <td>{res.examCode}</td>\r\n                    <td>{res.name}</td>\r\n                    <td>\r\n                      {res.birth && moment(res.birth).format(\"yyyy-MM-DD\")}\r\n                    </td>\r\n                    <td>{res.cityName}</td>\r\n                    <td>{res.schoolName}</td>\r\n                    <td>{Convertor.GradeType(res.gradeType)}</td>\r\n                    <td>{res.applyTypeString}</td>\r\n                    <td>{res.gradeScore}</td>\r\n                    <td>{res.absenceScore}</td>\r\n                    <td>{res.volunteerScore}</td>\r\n                    <td>{res.additionalScore}</td>\r\n                    <td>{res.commonTotalScore}</td>\r\n                    {/* 점수 합계/일반 */}\r\n                    <td>{res.specialTotalScore}</td>\r\n                    {/* 점수 합계/특별 */}\r\n                    <td>{res.isSubmit ? \"제출완료\" : \"미제출\"}</td>\r\n                    <td>\r\n                      {res.isSubmit ? (\r\n                        <button\r\n                          onClick={() => {\r\n                            handleCancelSubmit(res.userIdx, res.name);\r\n                          }}\r\n                        >\r\n                          제출취소\r\n                        </button>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() =>\r\n                          window.open(`/print?userIdx=${res.userIdx}`, \"_blank\")\r\n                        }\r\n                      >\r\n                        출력\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminReceiptStatus;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport ReceiptStatus from \"../../../components/Admin/AdminReceiptStatus\";\r\nimport useStore from \"lib/hooks/useStore\";\r\nimport { handleAdmin } from \"lib/handleErrors\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Receipt } from \"util/types/ReceiptType\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst AdminReceiptStatusContainer = ({}) => {\r\n  const { store } = useStore();\r\n  const history = useHistory();\r\n\r\n  const [receiptStatus, setReceiptStatus] = useState<Receipt[]>([]);\r\n  const [search, setSearch] = useState<string>(\"\");\r\n\r\n  const { getReceiptStatus, getReceiptStatusExcel, handleCancelSubmit } =\r\n    store.AdminStore;\r\n\r\n  //입학 전형 원부 받아오기\r\n  const getReceiptStatusCallBack = useCallback(() => {\r\n    getReceiptStatus()\r\n      .then((res) => {\r\n        // console.log(\r\n        //   res.data\r\n        //     .sort((a, b) => {\r\n        //       return a.totalScore - b.totalScore;\r\n        //     })\r\n        //     .map((user) => user.totalScore)\r\n        // );\r\n        setReceiptStatus(res.data);\r\n      })\r\n      .catch((err) => {\r\n        handleAdmin(err, history);\r\n      });\r\n  }, []);\r\n\r\n  const cancelSubmit = useCallback(\r\n    async (userIdx: number, name: string) => {\r\n      Swal.fire({\r\n        title: \"주의!!\",\r\n        text: `해당 유저(${name}) 를 제출 취소하시겠습니까?`,\r\n        showCancelButton: true,\r\n        icon: \"warning\",\r\n        cancelButtonText: \"취소\",\r\n        confirmButtonText: \"확인\",\r\n      }).then(async (result) => {\r\n        if (result.isConfirmed) {\r\n          await handleCancelSubmit(userIdx).then((response) => {\r\n            if (response.status === 200) {\r\n              const arr = receiptStatus.slice();\r\n              const idx = arr.findIndex((data) => data.userIdx === userIdx);\r\n              arr[idx].isSubmit = false;\r\n              arr[idx].submitCode = \"\";\r\n              arr[idx].examCode = \"\";\r\n              setReceiptStatus(arr);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    [receiptStatus]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getReceiptStatusCallBack();\r\n  }, [getReceiptStatusCallBack]);\r\n\r\n  return (\r\n    <>\r\n      <ReceiptStatus\r\n        receiptStatus={receiptStatus}\r\n        setSearch={setSearch}\r\n        search={search}\r\n        getReceiptStatusExcel={getReceiptStatusExcel}\r\n        handleCancelSubmit={cancelSubmit}\r\n        setReceiptStatus={setReceiptStatus}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default observer(AdminReceiptStatusContainer);\r\n","import DefaultAdminHeader from \"components/Admin/DefaultAdminHeader\";\r\nimport React from \"react\";\r\nimport AdminReceiptStatus from \"../../containers/Admin/AdminReceiptStatus/AdminReceiptStatusContainer\";\r\n\r\nconst AdminReceiptStatusPage = () => {\r\n  return (\r\n    <DefaultAdminHeader>\r\n      <AdminReceiptStatus />\r\n    </DefaultAdminHeader>\r\n  );\r\n};\r\n\r\nexport default AdminReceiptStatusPage;\r\n"],"sourceRoot":""}